<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAJARRO X STUDIO | Digital Assets</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <style>
        :root {
            --primary: #0a0a0a;
            --accent: #3d5afe;
            --success: #00c853;
            --radius: 16px;
            --bg-home: url('https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&q=80&w=1920');
        }
        html { scroll-behavior: smooth; }
        * { box-sizing: border-box; font-family: 'Inter', sans-serif; transition: all 0.3s ease; }
        body { background: #fdfdfd; color: var(--primary); margin: 0; padding: 0; min-height: 100vh; }
        
        .nav-bar { 
            background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px);
            padding: 15px 40px; display: flex; justify-content: space-between; align-items: center; 
            position: fixed; top: 0; width: 100%; z-index: 2000; border-bottom: 1px solid rgba(0,0,0,0.1);
        }
        .logo { font-weight: 900; font-size: 1.2rem; letter-spacing: 2px; cursor: pointer; text-transform: uppercase; }

        #home {
            height: 100vh; width: 100%; background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), var(--bg-home);
            background-size: cover; background-position: center; display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: white; text-align: center; padding: 0 20px;
        }

        .main-container { max-width: 1100px; margin: 0 auto; padding: 100px 20px 60px; }
        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .sticky-nav {
            position: sticky; top: 75px; z-index: 1500; background: rgba(253, 253, 253, 0.9);
            padding: 10px 0; margin-bottom: 20px; backdrop-filter: blur(5px);
        }
        .btn-back-main { 
            background: #f0f0f0; color: var(--primary); border: none; padding: 10px 20px; 
            border-radius: 50px; font-weight: 700; cursor: pointer; font-size: 0.8rem;
            display: inline-flex; align-items: center; gap: 8px;
        }

        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; }
        .card { background: white; border-radius: var(--radius); padding: 40px; border: 1px solid #eee; box-shadow: 0 10px 30px rgba(0,0,0,0.02); position: relative; }
        .bundle-specs { background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 15px 0; font-size: 0.85rem; border-left: 4px solid var(--accent); line-height: 1.5; }
        
        .btn-main { background: var(--accent); color: white; border: none; padding: 18px 35px; border-radius: 50px; font-weight: 700; cursor: pointer; width: 100%; text-transform: uppercase; }
        .btn-secondary { background: #e0e0e0; color: #444; border: none; padding: 12px 25px; border-radius: 50px; font-weight: 600; cursor: pointer; width: 100%; margin-top: 10px; }
        
        .form-group { margin-bottom: 20px; text-align: left; }
        label { display: block; font-weight: 700; margin-bottom: 8px; font-size: 0.8rem; color: #555; }
        input, select, textarea { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ccc; font-size: 0.9rem; }

        footer { background: #000; color: white; padding: 80px 20px; text-align: center; }
        .social-links { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 25px; }
        .social-links a { color: var(--accent); text-decoration: none; font-weight: bold; font-size: 0.9rem; }
    </style>
</head>
<body>

<div class="nav-bar">
    <div class="logo" onclick="resetToHome()">NAJARRO X STUDIO</div>
    <div style="font-size: 0.7rem; font-weight: 800; color: var(--accent);">V.2026 | PANAMÁ</div>
</div>

<div id="home" class="section active">
    <h1 style="font-size: clamp(2.5rem, 8vw, 4.5rem); margin: 0; font-weight: 900; letter-spacing: -2px;">NAJARRO X STUDIO</h1>
    <p style="font-size: 1.2rem; margin: 20px 0 40px; opacity: 0.9;">High-End AI Visual Production</p>
    <div style="display: flex; gap: 15px; flex-wrap: wrap; justify-content: center;">
        <button class="btn-main" style="width:auto" onclick="navigateTo('bundles')">Pre-made Bundles</button>
        <button onclick="navigateTo('custom')" style="background:transparent; border:2px solid white; color:white; padding:18px 35px; border-radius:50px; cursor:pointer; font-weight:700;">Custom Project</button>
    </div>
</div>

<div class="main-container">
    
    <div id="bundles" class="section">
        <div class="sticky-nav"><button class="btn-back-main" onclick="resetToHome()">← VOLVER AL INICIO</button></div>
        <h2 style="margin-bottom: 30px;">Bundles (Entrega: 24h)</h2>
        <div class="grid">
            <div class="card">
                <h3>STARTER PACK</h3>
                <div class="bundle-specs">• 5 Loops 4K (30s c/u)<br>• Entrega: 24 Horas</div>
                <div class="form-group">
                    <label>Aspect Ratio:</label>
                    <select id="s-ratio"><option>9:16 (Vertical)</option><option>16:9 (Horizontal)</option><option>1:1 (Cuadrado)</option></select>
                </div>
                <div class="form-group">
                    <label>Estética:</label>
                    <select id="s-style">
                        <option>Biological Sci-Fi</option>
                        <option>Glitch-Core Retro</option>
                        <option>Ambient Brutalism</option>
                        <option>Psicodelia Líquida Metálica</option>
                        <option>Astral Travel</option>
                    </select>
                </div>
                <div style="font-size: 2.2rem; font-weight: 900; margin-bottom: 20px;">$120</div>
                <button class="btn-main" onclick="saveBundle('STARTER', 120, 's-style', 's-ratio', 5, 30, '24 horas')">Seleccionar</button>
            </div>
            <div class="card" style="border: 2px solid var(--accent);">
                <h3>PRO PACK</h3>
                <div class="bundle-specs">• 10 Loops 4K (30s c/u)<br>• Entrega: 24 Horas</div>
                <div class="form-group">
                    <label>Aspect Ratio:</label>
                    <select id="p-ratio"><option>9:16 (Vertical)</option><option>16:9 (Horizontal)</option><option>1:1 (Cuadrado)</option></select>
                </div>
                <div class="form-group">
                    <label>Estética:</label>
                    <select id="p-style-bundle">
                        <option>Biological Sci-Fi</option>
                        <option>Glitch-Core Retro</option>
                        <option>Ambient Brutalism</option>
                        <option>Psicodelia Líquida Metálica</option>
                        <option>Astral Travel</option>
                    </select>
                </div>
                <div style="font-size: 2.2rem; font-weight: 900; margin-bottom: 20px;">$220</div>
                <button class="btn-main" onclick="saveBundle('PRO', 220, 'p-style-bundle', 'p-ratio', 10, 30, '24 horas')">Seleccionar</button>
            </div>
            <div class="card">
                <h3>INFINITY ULTRA</h3>
                <div class="bundle-specs">• 20 Loops 4K (30s c/u)<br>• Entrega: 24 Horas</div>
                <div class="form-group">
                    <label>Aspect Ratio:</label>
                    <select id="u-ratio"><option>9:16 (Vertical)</option><option>16:9 (Horizontal)</option><option>1:1 (Cuadrado)</option></select>
                </div>
                <div class="form-group">
                    <label>Estética:</label>
                    <select id="u-style">
                        <option>Biological Sci-Fi</option>
                        <option>Glitch-Core Retro</option>
                        <option>Ambient Brutalism</option>
                        <option>Psicodelia Líquida Metálica</option>
                        <option>Astral Travel</option>
                    </select>
                </div>
                <div style="font-size: 2.2rem; font-weight: 900; margin-bottom: 20px;">$400</div>
                <button class="btn-main" onclick="saveBundle('INFINITY ULTRA', 400, 'u-style', 'u-ratio', 20, 30, '24 horas')">Seleccionar</button>
            </div>
        </div>
    </div>

    <div id="custom" class="section">
        <div class="sticky-nav"><button class="btn-back-main" onclick="resetToHome()">← VOLVER AL INICIO</button></div>
        <div class="card" style="max-width: 600px; margin: 0 auto; text-align: center;">
            <h2>Custom Project (24-72h)</h2>
            <div class="form-group">
                <label>Nombre del Proyecto:</label>
                <input type="text" id="p-name" placeholder="Ej: Video Musical X / Campaña Verano">
            </div>
            <div class="form-group">
                <label>Prompt / Idea Visual:</label>
                <textarea id="p-prompt" rows="3" placeholder="Describe texturas, colores, ambiente..."></textarea>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                    <label>Aspect Ratio:</label>
                    <select id="c-ratio"><option>9:16 (Vertical)</option><option>16:9 (Horizontal)</option><option>1:1 (Cuadrado)</option></select>
                </div>
                <div class="form-group">
                    <label>Duración:</label>
                    <select id="p-duration" onchange="updateCustomTotal()"><option value="15">15s ($15)</option><option value="30">30s ($30)</option><option value="60">60s ($60)</option></select>
                </div>
            </div>
            <div class="form-group">
                <label>Cantidad de Clips:</label>
                <input type="number" id="p-qty" value="1" min="1" oninput="updateCustomTotal()">
            </div>
            <div style="font-size: 2.5rem; font-weight: 900; margin: 20px 0;">Total: $<span id="p-total">15</span></div>
            <button class="btn-main" onclick="saveCustom()">Continuar a Datos</button>
            <button class="btn-secondary" onclick="clearCustomForm()">Limpiar Formulario</button>
        </div>
    </div>

    <div id="client-data" class="section">
        <div class="sticky-nav"><button class="btn-back-main" id="back-to-source">← REGRESAR</button></div>
        <div class="card" style="max-width: 500px; margin: 0 auto;">
            <h2>Contacto</h2>
            <div class="form-group"><label>Nombre:</label><input type="text" id="c-name"></div>
            <div class="form-group"><label>WhatsApp:</label><input type="text" id="c-phone"></div>
            <div class="form-group"><label>E-mail:</label><input type="email" id="c-email"></div>
            <button class="btn-main" onclick="finalStep()">Generar Cotización</button>
        </div>
    </div>

    <div id="actions" class="section">
        <div class="card" style="text-align: center; max-width: 500px; margin: 0 auto;">
            <h2 style="color: var(--success);">¡Propuesta Lista!</h2>
            <div id="final-summary" style="margin: 30px 0;"></div>
            <button class="btn-main" onclick="downloadPDF()">Descargar PDF Formal</button>
            <button class="btn-main" style="background:#25D366; margin-top:12px;" onclick="sendWhatsApp()">Confirmar WhatsApp</button>
            <button class="btn-back-main" style="margin-top: 30px; width: 100%; justify-content: center;" onclick="resetToHome()">NUEVA COTIZACIÓN / INICIO</button>
        </div>
    </div>
</div>

<footer>
    <div class="logo">NAJARRO X STUDIO</div>
    <div class="social-links">
        <a href="https://www.youtube.com/@najarrox" target="_blank">YouTube</a>
        <a href="https://www.tiktok.com/@najarrox" target="_blank">TikTok</a>
        <a href="https://instagram.com/najarrox.exe" target="_blank">Instagram</a>
        <a href="https://linktr.ee/najarrox" target="_blank">Linktree</a>
        <a href="mailto:najarrox@gmail.com">Email</a>
    </div>
    <p style="margin-top: 30px; font-size: 0.7rem; opacity: 0.5;">&copy; 2026 NAJARRO X STUDIO.</p>
</footer>

<script>
    const { jsPDF } = window.jspdf;
    let quoteData = {};

    function navigateTo(id) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        const target = document.getElementById(id);
        target.classList.add('active');
        
        if(id === 'home') {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        } else {
            const headerOffset = 80;
            const elementPosition = target.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
            window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
        }
    }

    function resetToHome() { navigateTo('home'); }

    function clearCustomForm() {
        document.getElementById('p-name').value = '';
        document.getElementById('p-prompt').value = '';
        document.getElementById('p-qty').value = 1;
        updateCustomTotal();
    }

    function updateCustomTotal() {
        const qty = document.getElementById('p-qty').value || 0;
        const dur = document.getElementById('p-duration').value;
        document.getElementById('p-total').innerText = qty * parseInt(dur);
    }

    function saveBundle(tier, price, styleId, ratioId, loops, segs, time) {
        quoteData = { 
            service: tier + " BUNDLE", subtotal: price, 
            detail: `Estética: ${document.getElementById(styleId).value}\nRatio: ${document.getElementById(ratioId).value}\nFormato: ${loops} Loops de ${segs}s\nEntrega Estimada: ${time}`,
            applyDiscount: false 
        };
        document.getElementById('back-to-source').onclick = () => navigateTo('bundles');
        navigateTo('client-data');
    }

    function saveCustom() {
        const projectName = document.getElementById('p-name').value || "Proyecto Custom";
        const qty = document.getElementById('p-qty').value;
        const dur = document.getElementById('p-duration').value;
        quoteData = { 
            service: "CUSTOM PRODUCTION", subtotal: qty * dur, 
            detail: `PROYECTO: ${projectName}\nPrompt: ${document.getElementById('p-prompt').value}\nRatio: ${document.getElementById('c-ratio').value}\nFormato: ${qty} clips de ${dur}s\nEntrega Estimada: 24 a 72 horas`,
            applyDiscount: true 
        };
        document.getElementById('back-to-source').onclick = () => navigateTo('custom');
        navigateTo('client-data');
    }

    function finalStep() {
        quoteData.clientName = document.getElementById('c-name').value;
        quoteData.clientPhone = document.getElementById('c-phone').value;
        quoteData.clientEmail = document.getElementById('c-email').value;
        const disc = quoteData.applyDiscount ? quoteData.subtotal * 0.05 : 0;
        quoteData.total = quoteData.subtotal - disc;
        document.getElementById('final-summary').innerHTML = `<div style="font-size: 3rem; font-weight: 900; color: var(--accent);">$${quoteData.total.toFixed(2)}</div>`;
        navigateTo('actions');
    }

    function sendWhatsApp() {
        const msg = `*NX STUDIO* Hola, envío mi interés en: ${quoteData.service} ($${quoteData.total.toFixed(2)}).`;
        window.open(`https://wa.me/50764614851?text=${encodeURIComponent(msg)}`);
    }

    function downloadPDF() {
        const doc = new jsPDF();
        doc.setFillColor(10, 10, 10); doc.rect(0, 0, 210, 40, 'F');
        doc.setTextColor(255, 255, 255); doc.setFontSize(22); doc.setFont("helvetica", "bold"); doc.text("NAJARRO X STUDIO", 15, 25);
        doc.setTextColor(0,0,0); doc.setFontSize(10); doc.text(`ATENCIÓN A: ${quoteData.clientName}`, 15, 55);
        doc.text(`FECHA: ${new Date().toLocaleDateString()}`, 160, 55);
        doc.autoTable({
            startY: 75, head: [['DESCRIPCIÓN DEL SERVICIO', 'VALOR']],
            body: [[`${quoteData.service}\n${quoteData.detail}`, `$${quoteData.subtotal.toFixed(2)}`]],
            theme: 'grid', headStyles: { fillColor: [0,0,0] }
        });
        let finalY = doc.lastAutoTable.finalY + 15;
        if(quoteData.applyDiscount) { 
            doc.text(`DESC. PROMO (5%): -$${(quoteData.subtotal*0.05).toFixed(2)}`, 195, finalY, {align:'right'}); 
            finalY+=8; 
        }
        doc.setFontSize(16); doc.text(`TOTAL FINAL: $${quoteData.total.toFixed(2)} USD`, 195, finalY, {align:'right'});
        finalY += 30; doc.setFontSize(9); doc.setFont("helvetica", "bold"); doc.text("NOTAS IMPORTANTES:", 15, finalY);
        doc.setFont("helvetica", "normal");
        doc.text(["- Cotización válida por 15 días calendario.", "- El tiempo de entrega inicia tras confirmación del pago.", "- Aceptar por WhatsApp o correo."], 15, finalY + 7);
        doc.save(`Cotizacion_NX_${quoteData.clientName.replace(/\s+/g, '_')}.pdf`);
    }
</script>
</body>
</html>
